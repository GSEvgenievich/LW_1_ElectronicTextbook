<Page x:Class="ElectronicTextbook.Pages.LectionsNavigatorPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:ElectronicTextbook.Pages"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="LectionsNavigatorPage">

    <DockPanel Background="#FFFDD0">
        <!-- Кремовый фон для всей страницы -->
        <!-- Верхняя панель -->
        <Grid DockPanel.Dock="Top" Height="40" Background="#556B2F">
            <!-- Оливковый фон -->
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Название слева -->
            <TextBlock Text="Информатика рядом" VerticalAlignment="Center" 
                   Margin="10,0" Foreground="#FFFDD0" FontWeight="Bold" FontSize="16"/>

            <!-- Логин пользователя справа -->
            <TextBlock Text="{Binding UserLoginText}" Grid.Column="1" VerticalAlignment="Center" 
                   Margin="0,0,10,0" Foreground="#FFFDD0" FontWeight="SemiBold" />

            <Button Grid.Column="2" Content="Личный кабинет" Margin="0,5,10,5" Padding="10,2"
                VerticalAlignment="Center" />
        </Grid>

        <ListBox x:Name="ThemesListBox" DockPanel.Dock="Left" Width="270" Background="#F5DEB3" ItemsSource="{Binding Themes}" SelectedItem="{Binding CurrentTheme, Mode=TwoWay}" SelectionChanged="ThemesListBox_SelectionChanged">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Padding="8" Margin="2" Background="#FFFDD0" CornerRadius="4" HorizontalAlignment="Stretch">
                        <TextBlock Text="{Binding ThemeName}" FontWeight="SemiBold" Foreground="#556B2F"/>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <TextBlock DockPanel.Dock="Top" Text="{Binding CurrentTheme.ThemeName}" Margin="10 0" FontWeight="Bold" FontSize="24" Foreground="#556B2F"/>

        <ListBox x:Name="LecturesListBox" Background="#FFFDD0" Margin="10" ItemsSource="{Binding SelectedThemeLections}" SelectedItem="SelectedLection" SelectionChanged="LecturesListBox_SelectionChanged">
            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                </Style>
            </ListBox.ItemContainerStyle>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Padding="6" Margin="2" Background="#F5DEB3" CornerRadius="4" HorizontalAlignment="Stretch">
                        <DockPanel LastChildFill="True">
                            <TextBlock Text="{Binding LectionDate}" DockPanel.Dock="Right" VerticalAlignment="Top" Margin="5,0,0,0" Foreground="#CD853F"/>
                            <Label Content="{Binding LectionName}" VerticalAlignment="Top" HorizontalContentAlignment="Left" Foreground="#556B2F"/>
                        </DockPanel>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </DockPanel>
</Page>
